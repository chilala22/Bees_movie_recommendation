<!---search_movie.html-->
<!-- using base template -->
{% extends "base.html" %}{% block title%}Movie Rating{% endblock %}

{% block content%}
<section class="flex  justify-center items-center overflow-y-hidden mb-20 ml-10">
  <div class=" overflow-y-auto">
   <!-- movie_rating_page.html -->
<div class="container mx-auto">
  <h1 class="text-4xl font-bold mb-4">Movie Recommendations</h1>
  <table class="w-full table-auto">
    <thead>
      <tr>
        <th class="px-4 py-2">ID</th>
        <th class="px-4 py-2">Title</th>
        <th class="px-4 py-2">Genres</th>
        <th class="px-4 py-2">Budget</th>
        <th class="px-4 py-2">Homepage</th>
      </tr>
    </thead>
    <tbody>
      {% for movie in movies %}
        <tr>
          <td class="border px-4 py-2">{{ movie.id }}</td>
          <td class="border px-4 py-2">{{ movie.title }}</td>
          <td class="border px-4 py-2">{{ movie.genres }}</td>
          <td class="border px-4 py-2">{{ movie.budget }}</td>
          <td class="border px-4 py-2">{{ movie.homepage }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div>
  <!-- movie_rating_page.html -->

<div class="container mx-auto p-4 pt-6 md:p-6 lg:p-12">
  <h1 class="text-3xl font-bold mb-4">Movie Recommendations</h1>
  <div class="flex flex-wrap -mx-4">
    {% for movie in movies %}
      <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4">
        <h2 class="text-2xl font-bold mb-2">{{ movie[1] }}</h2>
        <ul class="list-none mb-4">
          {% for rec_movie in recommended_movies|selectattr("title", "equalto", movie[1]) %}
            <li class="mb-2">
              <img src="{{ rec_movie.recommended_posters[0] }}" alt="Movie Poster" class="w-24 h-36 mr-4">
              <span class="text-lg">{{ rec_movie.recommended_movies[0] }}</span>
              <span class="text-sm text-gray-600">Release Date: {{ rec_movie.recommended_release_dates[0] }}</span>
              <span class="text-sm text-gray-600">Runtime: {{ rec_movie.recommended_runtimes[0] }} minutes</span>
            </li>
            {% for i in range(1, rec_movie.recommended_movies|length) %}
              <li class="mb-2">
                <img src="{{ rec_movie.recommended_posters[i] }}" alt="Movie Poster" class="w-24 h-36 mr-4">
                <span class="text-lg">{{ rec_movie.recommended_movies[i] }}</span>
                <span class="text-sm text-gray-600">Release Date: {{ rec_movie.recommended_release_dates[i] }}</span>
                <span class="text-sm text-gray-600">Runtime: {{ rec_movie.recommended_runtimes[i] }} minutes</span>
              </li>
            {% endfor %}
          {% endfor %}
        </ul>
      </div>
    {% endfor %}
  </div>
</div>
</div>

  </div>
</section>
{% endblock%}